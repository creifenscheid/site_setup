<f:comment>
    This partial can be used to render menus.

    Variables:
    - id
    - menu
    - label
    - additionalClasses (optional)
</f:comment>

<nav id="{id}" aria-labelledby="header_{id}">
    <f:if condition="{level}">
        <f:then>
            <f:variable name="headlineTag">h{level}</f:variable>
        </f:then>
        <f:else>
            <f:variable name="headlineTag" value="h2"/>
        </f:else>
    </f:if>
    <{headlineTag} id="header_{id}" class="sr-only">{label}</{headlineTag}>
<ul class="{id}{f:if(condition:additionalClasses, then: ' {additionalClasses}')}">
    <f:for each="{menu}" as="element">
        <f:if condition="{element.spacer}">
            <f:then>
                <li class="{id}__element menu-divider"><hr class="divider divider--menu" /></li>
            </f:then>
            <f:else>
                <li class="{id}__element">
                    <f:if condition="{element.current}">
                        <f:then>
                            <f:link.page pageUid="{element.data.uid}" class="{id}__link current" additionalAttributes="{aria-current:'page'}"><span class="text"><f:render section="elementText" arguments="{element:element}" /></span></f:link.page>
                        </f:then>
                        <f:else>
                            <f:link.page pageUid="{element.data.uid}" class="{id}__link"><span class="text"><f:render section="elementText" arguments="{element:element}" /></span></f:link.page>
                        </f:else>
                    </f:if>
                </li>
            </f:else>
        </f:if>
    </f:for>
</ul>
</nav>

<f:section name="elementText">
    <f:if condition="{element.navTitle}">
        <f:then><f:format.html>{element.navTitle}</f:format.html></f:then>
        <f:else><f:format.html>{element.title}</f:format.html></f:else>
    </f:if>
</f:section>